{"version":3,"file":"iframe.9835363a.js","sources":["../../vite/modulepreload-polyfill","../../.storybook/preview.js","../../src/stories/assets/code-brackets.svg","../../src/stories/assets/colors.svg","../../src/stories/assets/comments.svg","../../src/stories/assets/direction.svg","../../src/stories/assets/flow.svg","../../src/stories/assets/plugin.svg","../../src/stories/assets/repo.svg","../../src/stories/assets/stackalt.svg","../../../shared/src/schemas/rules.ts","../../../shared/src/examples.ts","../../src/lib/components/config/EditableRuleConfig.svelte","../../src/lib/components/config/EditableDocumentRuleSet.svelte","../../src/lib/components/config/EditableSourceConfig.svelte","../../src/lib/api.ts","../../src/lib/components/search/SearchOptionInput.svelte","../../src/lib/components/search/SearchOptions.svelte","../../src/lib/components/search/SearchInput.svelte","../../src/lib/components/search/SearchResult.svelte","../../../shared/src/searcher.ts","../../src/lib/components/search/SearchResultList.svelte","../../src/lib/components/search/SourceConfigSelector.svelte","../../src/lib/pages/Index.svelte","../../src/lib/components/view/DivView.svelte","../../src/lib/components/view/ParagraphView.svelte","../../src/lib/components/view/NodeView.svelte","../../../../../../../virtual:/@storybook/builder-vite/vite-app.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export const parameters = {\n\tactions: { argTypesRegex: '^on[A-Z].*' },\n\tcontrols: {\n\t\tmatchers: {\n\t\t\tcolor: /(background|color)$/i,\n\t\t\tdate: /Date$/\n\t\t}\n\t}\n};\n","export default \"__VITE_ASSET__9ef6443e__\"","export default \"__VITE_ASSET__ac9401f3__\"","export default \"__VITE_ASSET__f15a6837__\"","export default \"__VITE_ASSET__94a9917f__\"","export default \"__VITE_ASSET__275142c6__\"","export default \"__VITE_ASSET__57148314__\"","export default \"__VITE_ASSET__fb4ece47__\"","export default \"__VITE_ASSET__2ad81543__\"","import { Static, Type } from '@sinclair/typebox';\n\nexport const ALL_SELECTION_OPERATORS = ['is', 'includes'] as const;\n\nexport const selectionOperator = Type.Union(\n\tALL_SELECTION_OPERATORS.map((op) => Type.Literal(op)),\n\t{\n\t\t$id: 'selectionOperator',\n\t},\n);\n\nexport type SelectionOperator = typeof ALL_SELECTION_OPERATORS[number];\n\nexport const ALL_SELECTION_LOCATIONS = ['tag', 'class', 'id'] as const;\n\nexport const selectionLocation = Type.Union(\n\tALL_SELECTION_LOCATIONS.map((loc) => Type.Literal(loc)),\n\t{ $id: 'selectionLocation' },\n);\n\nexport type SelectionLocation = typeof ALL_SELECTION_LOCATIONS[number];\n\nexport const selectionRule = Type.Object(\n\t{\n\t\top: Type.Ref(selectionOperator),\n\t\tlocation: Type.Ref(selectionLocation),\n\t\tvalue: Type.String(),\n\t},\n\t{ $id: 'selectionRule' },\n);\n\nexport type SelectionRule = Static<typeof selectionRule>;\n\nexport const documentRuleSet = Type.Object({\n\tid: Type.String(),\n\tconditionRules: Type.Array(Type.Ref(selectionRule)),\n\tbodyRule: Type.Optional(Type.Ref(selectionRule)),\n});\n\nexport type DocumentRuleSet = Static<typeof documentRuleSet>;\n\nexport const htmlSearchRuleSet = Type.Object({\n\tpageVariable: Type.String(),\n\tqueryVariable: Type.String(),\n\tresultListRule: Type.Ref(selectionRule),\n\tresultLinkRule: Type.Ref(selectionRule),\n\tresultRule: Type.Ref(selectionRule),\n\tresultDescriptionRule: Type.Optional(Type.Ref(selectionRule)),\n});\n\nexport type HtmlSearchRuleSet = Static<typeof htmlSearchRuleSet>;\n\nexport const valueWithDisplayName = Type.Object({\n\tvalue: Type.String(),\n\tdisplayName: Type.Optional(Type.String()),\n});\n\nexport const urlComponent = Type.Object(\n\t{\n\t\tvalue: Type.Optional(Type.String()),\n\t\tvariableName: Type.Optional(Type.String()),\n\t\tpossibleValues: Type.Optional(\n\t\t\tType.Array(Type.Ref(valueWithDisplayName)),\n\t\t),\n\t},\n\t{ $id: 'urlComponent' },\n);\n\nexport type UrlComponent = Static<typeof urlComponent>;\n\nexport const urlConfig = Type.Object({\n\tbase: Type.String({ format: 'uri' }),\n\tpathComponents: Type.Array(Type.Ref(urlComponent)),\n\tqueryComponents: Type.Record(Type.String(), Type.Ref(urlComponent)),\n});\n\nexport type UrlConfig = Static<typeof urlConfig>;\n\nexport const sourceSiteConfig = Type.Object({\n\tid: Type.String(),\n\tname: Type.String(),\n\tsearchUrlConfig: Type.Ref(urlConfig),\n\tdocumentUrlConfig: Type.Ref(urlConfig),\n\tdocumentRuleSets: Type.Array(Type.Ref(documentRuleSet)),\n\thtmlSearchRuleSet: Type.Ref(htmlSearchRuleSet),\n});\n\nexport type SourceSiteConfig = Static<typeof sourceSiteConfig>;\n","import {\n\tDocumentRuleSet,\n\tSelectionRule,\n\tSourceSiteConfig,\n} from './schemas/rules';\nimport { v4 } from 'uuid';\nexport const DEFAULT_EMPTY_CONFIG: SelectionRule = {\n\top: 'is',\n\tlocation: 'id',\n\tvalue: '',\n};\nexport const newEmptyRuleSet: () => DocumentRuleSet = () => ({\n\tid: v4(),\n\tconditionRules: [],\n});\n// hard coded for now\nexport const eurlexConfig: SourceSiteConfig = {\n\tid: '1',\n\tname: 'eurlex-test-config',\n\tsearchUrlConfig: {\n\t\tbase: 'https://eur-lex.europa.eu',\n\t\tpathComponents: [\n\t\t\t{\n\t\t\t\tvalue: 'search.html',\n\t\t\t},\n\t\t],\n\t\tqueryComponents: {\n\t\t\tscope: {\n\t\t\t\tvalue: 'EURLEX',\n\t\t\t},\n\t\t\ttext: {\n\t\t\t\tvariableName: 'query',\n\t\t\t},\n\t\t\tDTS_SUBDOM: {\n\t\t\t\tvariableName: 'domain',\n\t\t\t\tpossibleValues: [\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'LEGISLATION',\n\t\t\t\t\t\tdisplayName: 'Legislation',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'EU_CASE_LAW',\n\t\t\t\t\t\tdisplayName: 'EU case law',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\ttype: {\n\t\t\t\tvalue: 'quick',\n\t\t\t},\n\t\t\tpage: {\n\t\t\t\tvariableName: 'page',\n\t\t\t},\n\t\t},\n\t},\n\tdocumentUrlConfig: {\n\t\tbase: 'https://eur-lex.europa.eu',\n\t\tpathComponents: [\n\t\t\t{\n\t\t\t\tvalue: 'legal-content',\n\t\t\t},\n\t\t\t{\n\t\t\t\tvalue: 'AUTO',\n\t\t\t},\n\t\t],\n\t\tqueryComponents: {\n\t\t\turi: {\n\t\t\t\tvariableName: 'celex',\n\t\t\t},\n\t\t},\n\t},\n\n\tdocumentRuleSets: [\n\t\t{\n\t\t\tid: '1',\n\t\t\tconditionRules: [],\n\t\t\tbodyRule: {\n\t\t\t\top: 'is',\n\t\t\t\tlocation: 'id',\n\t\t\t\tvalue: 'TexteOnly',\n\t\t\t},\n\t\t},\n\n\t\t{\n\t\t\tid: '2',\n\t\t\tconditionRules: [],\n\t\t\tbodyRule: {\n\t\t\t\top: 'is',\n\t\t\t\tlocation: 'id',\n\t\t\t\tvalue: 'textTabContent',\n\t\t\t},\n\t\t},\n\t],\n\thtmlSearchRuleSet: {\n\t\tqueryVariable: 'query',\n\t\tpageVariable: 'page',\n\t\tresultListRule: {\n\t\t\top: 'is',\n\t\t\tlocation: 'class',\n\t\t\tvalue: 'EurlexContent',\n\t\t},\n\t\tresultRule: {\n\t\t\top: 'is',\n\t\t\tlocation: 'class',\n\t\t\tvalue: 'SearchResult',\n\t\t},\n\t\tresultLinkRule: {\n\t\t\top: 'is',\n\t\t\tlocation: 'tag',\n\t\t\tvalue: 'h2',\n\t\t},\n\t},\n};\n","<script lang=\"ts\">\nimport type { SelectionRule } from \"@lawbrador/shared/src/schemas/rules\";\nimport { ALL_SELECTION_OPERATORS, ALL_SELECTION_LOCATIONS } from \"@lawbrador/shared/src/schemas/rules\";\nimport { DEFAULT_EMPTY_CONFIG } from \"@lawbrador/shared/src/examples\";\n \nimport Select, { Option } from '@smui/select';\nimport TextField from '@smui/textfield';\nimport Button, { Label } from '@smui/button';\n\nexport let ruleConfig: SelectionRule | undefined; \nexport let title: string | null;\nexport let optional: Boolean;\n</script>\n{#if title } \n<h3>{title}</h3>\n{/if }\n{#if ruleConfig }\n\n<Select bind:value={ruleConfig.op} label=\"Selection operator\">\n{#each ALL_SELECTION_OPERATORS as op }\n\t<Option value={op}>{op}</Option>\n{/each}\n</Select>\n\n<Select bind:value={ruleConfig.location} label=\"Selection location\">\n{#each ALL_SELECTION_LOCATIONS as loc }\n\t<Option value={loc}>{loc}</Option>\n{/each}\n</Select>\n\n<TextField bind:value={ruleConfig.value} label=\"Selector value\" />\n{#if optional }\n<Button on:click={() => ruleConfig = null}>\n\t<Label>Remove</Label>\n</Button>\n{/if }\n\n{:else }\n\t<Button on:click={() => ruleConfig = { ...DEFAULT_EMPTY_CONFIG } }>\n\t<Label>Add</Label>\n</Button>\n{/if }\n","<script lang=\"ts\">\nimport TextField from '@smui/textfield';\nimport EditableRuleConfig from './EditableRuleConfig.svelte'\nimport Paper, { Title, Content } from '@smui/paper';\nimport type { DocumentRuleSet } from \"@lawbrador/shared/src/schemas/rules\";\nimport Button, { Label } from '@smui/button';\nimport { DEFAULT_EMPTY_CONFIG } from \"@lawbrador/shared/src/examples\"\nexport let ruleSet: DocumentRuleSet;\n$: ruleSet.conditionRules = ruleSet.conditionRules.filter(r => r);\nexport let title: string;\n</script>\n\n\n<TextField label=\"Id\" disabled value={ruleSet.id} />\n<EditableRuleConfig title=\"Body rule\" bind:ruleConfig={ruleSet.bodyRule} optional={true} /> \n<Paper>\n\t<Title>Condition rules</Title>\n\t{#each ruleSet.conditionRules as rule }\n\t\t<EditableRuleConfig bind:ruleConfig={rule} optional={true} /> \n\t{/each}\n\t<Button on:click={() => ruleSet.conditionRules = [ ...ruleSet.conditionRules, { ...DEFAULT_EMPTY_CONFIG } ]}>\n\t\t<Label>Add</Label>\n\t</Button>\n</Paper>\n","<script lang=\"ts\">\nimport Button, { Label } from '@smui/button';\nimport type { SourceSiteConfig } from \"@lawbrador/shared/src/schemas/rules\";\nimport TextField from '@smui/textfield';\nimport EditableRuleConfig from './EditableRuleConfig.svelte'\nimport EditableDocumentRuleSet from './EditableDocumentRuleSet.svelte'\nimport Paper, { Title, Content } from '@smui/paper';\nexport let sourceConfig: SourceSiteConfig;\nimport { newEmptyRuleSet } from \"@lawbrador/shared/src/examples\";\n</script>\n\n<Paper>\n\t<Title>General</Title>\n\t<Content>\n\t<TextField label=\"Id\" disabled value={sourceConfig.id} />\n\t<TextField label=\"Name\" bind:value={sourceConfig.name} />\n\t</Content>\n</Paper>\n\n<Paper>\n\t<Title>Search</Title>\n\t<Content>\n<TextField label=\"Query variable\" bind:value={sourceConfig.htmlSearchRuleSet.queryVariable} />\n<TextField label=\"Page variable\" bind:value={sourceConfig.htmlSearchRuleSet.pageVariable} />\n<EditableRuleConfig bind:ruleConfig={sourceConfig.htmlSearchRuleSet.resultListRule} title=\"Result list rule\" /> \n<EditableRuleConfig bind:ruleConfig={sourceConfig.htmlSearchRuleSet.resultLinkRule} title=\"Result link rule\" /> \n<EditableRuleConfig bind:ruleConfig={sourceConfig.htmlSearchRuleSet.resultRule} title=\"Result rule\" /> \n\t<EditableRuleConfig bind:ruleConfig={sourceConfig.htmlSearchRuleSet.resultDescriptionRule} title=\"Result description rule\" optional={true} /> \n\t</Content>\n</Paper>\n\n<Paper>\n\t<Title>Document rule sets</Title>\n\t<Content>\n\t{#each sourceConfig.documentRuleSets as ruleSet }\n\t\t\t<EditableDocumentRuleSet bind:ruleSet={ruleSet} />\t\t\n\t{/each}\n\t</Content>\n\t<Button on:click={() => sourceConfig.documentRuleSets = [ ...sourceConfig.documentRuleSets, newEmptyRuleSet()]}>\n\t\t<Label>Add</Label>\n\t</Button>\n</Paper>\n\n\n","import type { SourceSiteConfig } from '@lawbrador/shared/src/schemas/rules';\nimport type {\n\tRestructuredDocument,\n\tScrapeRequest\n} from '@lawbrador/shared/src/schemas/document_version';\nimport type { SearchRequest, SearchResult } from '@lawbrador/shared/src/schemas/search';\nimport type { Identity } from '@lawbrador/shared/src/schemas/generic';\n\nconst baseUrl = 'http://localhost:8080/api';\n\nasync function get(path: string, fetchParam: any) {\n\tif (fetchParam) {\n\t\treturn await (await fetchParam(`${baseUrl}/${path}`)).json();\n\t} else {\n\t\treturn await (await fetch(`${baseUrl}/${path}`)).json();\n\t}\n}\n\nasync function post(path: string, body: any, fetchParam: any) {\n\tconst req = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json'\n\t\t},\n\t\tbody: JSON.stringify(body)\n\t};\n\tif (fetchParam) {\n\t\treturn await (await fetchParam(`${baseUrl}/${path}`, req)).json();\n\t} else {\n\t\treturn await (await fetch(`${baseUrl}/${path}`, req)).json();\n\t}\n}\nexport async function getDocument(\n\tid: string,\n\tfetchParam: any = false\n): Promise<RestructuredDocument> {\n\treturn await get(`scrape/${id}`, fetchParam);\n}\n\nexport async function getSourceConfigs(fetchParam: any = false): Promise<SourceSiteConfig[]> {\n\treturn await get('sources', fetchParam);\n}\n\nexport async function scrape(request: ScrapeRequest, fetchParam: any = false): Promise<Identity> {\n\treturn await post('scrape', request, fetchParam);\n}\n\nexport async function search(\n\tbody: SearchRequest,\n\tfetchParam: any = false\n): Promise<SearchResult[]> {\n\treturn await post('search', body, fetchParam);\n}\n","<script lang=\"ts\">\n\timport type { UrlComponent } from '@lawbrador/shared/src/schemas/rules';\n\texport let option: UrlComponent;\n\texport let value: string;\n</script>\n\n<strong>{option.variableName}</strong>\n{#if option.possibleValues}\n\t<select bind:value>\n\t\t<option value=\"\" />\n\t\t{#each option.possibleValues as possibleValue}\n\t\t\t<option value={possibleValue.value}>{possibleValue.displayName ?? possibleValue.value}</option\n\t\t\t>\n\t\t{/each}\n\t</select>\n{:else}\n\t<input type=\"text\" bind:value />\n{/if}\n","<script lang=\"ts\">\n\timport type { SourceSiteConfig } from '@lawbrador/shared/src/schemas/rules';\n\timport SearchOptionInput from './SearchOptionInput.svelte';\n\texport let searchParams: Record<string, string>;\n\texport let sourceConfig: SourceSiteConfig;\n\t$: queryVariable = sourceConfig?.htmlSearchRuleSet.queryVariable;\n\t$: pageVariable = sourceConfig?.htmlSearchRuleSet.pageVariable;\n\t$: options = Object.values(sourceConfig?.searchUrlConfig.queryComponents ?? []).filter(\n\t\t(c) => !c.value && c.variableName != queryVariable && c.variableName != pageVariable\n\t);\n</script>\n\n{#each options as option}\n\t<SearchOptionInput {option} bind:value={searchParams[option.variableName]} />\n{/each}\n","<script lang=\"ts\">\n\timport { search } from '../../api';\n\timport SearchOptions from './SearchOptions.svelte';\n\timport type { SourceSiteConfig } from '@lawbrador/shared/src/schemas/rules';\n\timport type { SearchResult } from '@lawbrador/shared/src/schemas/search';\n\texport let sourceConfig: SourceSiteConfig;\n\texport let searchResults: SearchResult[] = [];\n\texport let searchParams: Record<string, string>;\n\t$: queryVariable = sourceConfig?.htmlSearchRuleSet.queryVariable;\n\t$: pageVariable = sourceConfig?.htmlSearchRuleSet.pageVariable;\n\n\tasync function submitIfEnter(event: KeyboardEvent) {\n\t\tif (event.key == 'Enter') {\n\t\t\tawait submitQuery();\n\t\t}\n\t}\n\tasync function submitQuery() {\n\t\tsearchResults = [];\n\t\tsearchParams[pageVariable] = '1';\n\t\tconsole.log(sourceConfig);\n\t\ttry {\n\t\t\tsearchResults = await search({ sourceConfigId: sourceConfig.id, searchParams: searchParams });\n\t\t\tif (searchResults.length == 0) {\n\t\t\t\talert('search completed, no results');\n\t\t\t}\n\t\t\taddToHistory();\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\talert(`Search went boom: ${e.message}`);\n\t\t}\n\t}\n\n\tfunction addToHistory() {\n\t\tlet url = `?sourceConfigId=${sourceConfig.id}`;\n\t\tObject.values(sourceConfig.searchUrlConfig.queryComponents).forEach((component) => {\n\t\t\tconst paramValue = searchParams[component.variableName];\n\t\t\tif (component.variableName != sourceConfig.htmlSearchRuleSet.pageVariable && paramValue) {\n\t\t\t\turl = url + `&${component.variableName}=${paramValue}`;\n\t\t\t}\n\t\t});\n\t\twindow.history.pushState({}, 'Home', url);\n\t}\n</script>\n\n<h1>Search here</h1>\n<input type=\"text\" id=\"text-field\" bind:value={searchParams[queryVariable]} />\n<SearchOptions bind:searchParams {sourceConfig} />\n<button on:click={submitQuery}>search</button>\n<svelte:window on:keypress={submitIfEnter} />\n","<script lang=\"ts\">\n\timport { scrape } from '../../api';\n\timport type { SearchResult } from '@lawbrador/shared/src/schemas/search';\n\timport type { SourceSiteConfig } from '@lawbrador/shared/src/schemas/rules';\n\timport { createEventDispatcher } from 'svelte';\n\texport let data: SearchResult;\n\texport let sourceConfig: SourceSiteConfig;\n\tconst dispatch = createEventDispatcher();\n\tlet hasDocument = !!data.document?.id;\n\tlet link = hasDocument ? `/document/${data.document.id}` : '#';\n\tasync function onClick() {\n\t\tdispatch('searchResultClicked');\n\t\tif (!hasDocument) {\n\t\t\ttry {\n\t\t\t\tconst result = await scrape({ url: data.href, sourceConfigId: sourceConfig.id });\n\t\t\t\tdocument.location.replace(`/document/${result.id}`);\n\t\t\t} catch (e) {\n\t\t\t\talert('scraping failed');\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<p>\n\t<a href={link} on:click|once={onClick}>{data.text}</a>\n</p>\n","import {\n\tSourceSiteConfig,\n\tUrlConfig,\n\tHtmlSearchRuleSet,\n} from './schemas/rules';\nimport { ParsedNode } from './schemas/document_version';\nimport { SearchResult } from './schemas/search';\nimport { getFirstMatching, getAllMatching } from './matcher';\nimport { scrape } from './scraper';\nimport { buildUrl, hashUrlVariables } from './url';\n\nexport async function search(\n\tsearchInput: Record<string, string>,\n\tconfig: SourceSiteConfig,\n): Promise<SearchResult[]> {\n\tconst url = buildUrl(searchInput, config.searchUrlConfig);\n\tconsole.log(`URL :${url}`);\n\tconst scrapeResult = await scrape(url);\n\treturn parseSearchResults(scrapeResult, config);\n}\n\nexport function incrementPageNumber(\n\tsearchInput: Record<string, string>,\n\tconfig: HtmlSearchRuleSet,\n): Record<string, string> {\n\tconst pageVariableName = config.pageVariable;\n\tlet lastPageValue = searchInput[pageVariableName];\n\tlet pageNumber: number;\n\tif (!lastPageValue) {\n\t\tpageNumber = 2;\n\t} else {\n\t\tlet lastPageNumber = parseInt(lastPageValue);\n\t\tif (Number.isNaN(lastPageNumber)) {\n\t\t\tthrow Error(\n\t\t\t\t`cannot parse ${searchInput[pageVariableName]} to a number`,\n\t\t\t);\n\t\t}\n\t\tpageNumber = lastPageNumber + 1;\n\t}\n\tsearchInput[pageVariableName] = pageNumber.toString();\n\treturn searchInput;\n}\n\nexport function parseSearchResults(\n\troot: ParsedNode,\n\tconfig: SourceSiteConfig,\n): SearchResult[] {\n\tconst base = getFirstMatching(\n\t\troot,\n\t\tconfig.htmlSearchRuleSet.resultListRule,\n\t);\n\tif (!base) {\n\t\tthrow new Error('Could not find result list in html');\n\t}\n\tconst searchResult = getAllMatching(\n\t\tbase,\n\t\tconfig.htmlSearchRuleSet.resultRule,\n\t);\n\tconst links = searchResult\n\t\t.map((el) =>\n\t\t\tgetFirstMatching(\n\t\t\t\tel,\n\t\t\t\tconfig.htmlSearchRuleSet.resultLinkRule,\n\t\t\t),\n\t\t)\n\t\t.filter((el) => el.data && el.data?.length > 0)\n\t\t.map((el) => {\n\t\t\tconst url = makeLinkAbsolute(\n\t\t\t\tel.data[0].href,\n\t\t\t\tconfig.documentUrlConfig,\n\t\t\t);\n\t\t\treturn {\n\t\t\t\ttext: el.data[0].text,\n\t\t\t\thref: url,\n\t\t\t\thash: hashUrlVariables(\n\t\t\t\t\turl,\n\t\t\t\t\tconfig.documentUrlConfig,\n\t\t\t\t),\n\t\t\t};\n\t\t});\n\treturn links;\n}\n\nfunction makeLinkAbsolute(link: string, config: UrlConfig) {\n\tconst path = link[0] == '.' ? link.substring(1) : link;\n\treturn config.base + path;\n}\n","<script lang=\"ts\">\n\timport SearchResultComponent from '../search/SearchResult.svelte';\n\timport InfiniteScroll from 'svelte-infinite-scroll';\n\timport { incrementPageNumber } from '@lawbrador/shared/src/searcher';\n\timport { search } from '../../api';\n\timport type { SearchResult } from '@lawbrador/shared/src/schemas/search';\n\timport type { SourceSiteConfig } from '@lawbrador/shared/src/schemas/rules';\n\n\texport let sourceConfig: SourceSiteConfig;\n\texport let searchResults: SearchResult[] = [];\n\texport let searchParams: Record<string, string>;\n\tlet scrollThreshold: number = Number.MAX_VALUE;\n\tlet isSearching = false;\n\tlet firstSearchResultLength: number;\n\tasync function getNextPage() {\n\t\tif (isSearching) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tisSearching = true;\n\t\t\tincrementPageNumber(searchParams, sourceConfig.htmlSearchRuleSet);\n\t\t\tconst nextPage = await search({\n\t\t\t\tsourceConfigId: sourceConfig.id,\n\t\t\t\tsearchParams: searchParams\n\t\t\t});\n\t\t\tif (nextPage.length < firstSearchResultLength) {\n\t\t\t\tscrollThreshold = 0;\n\t\t\t}\n\t\t\t// all the results are the same\n\t\t\tif (nextPage.every((n) => searchResults.some((o) => n.hash == o.hash))) {\n\t\t\t\tscrollThreshold = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsearchResults = searchResults.concat(nextPage);\n\t\t\tisSearching = false;\n\t\t} catch (e) {\n\t\t\tscrollThreshold = 0;\n\t\t\tisSearching = false;\n\t\t}\n\t}\n</script>\n\n<div id=\"results\">\n\t{#each searchResults as result}\n\t\t<SearchResultComponent data={result} {sourceConfig} />\n\t\t<InfiniteScroll threshold={scrollThreshold} on:loadMore={getNextPage} />\n\t{/each}\n</div>\n\n<style>\n\t#results {\n\t\twidth: 800px;\n\t\tmax-height: 400px;\n\t\toverflow-x: scroll;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport type { SourceSiteConfig } from '@lawbrador/shared/src/schemas/rules';\n\timport { onMount } from 'svelte';\n\texport let sourceConfigList: SourceSiteConfig[];\n\texport let sourceConfig: SourceSiteConfig | null;\n\texport let sourceConfigId: string | null = null;\n\tconst sourceConfigMap: Record<string, SourceSiteConfig> = sourceConfigList.reduce((map, conf) => {\n\t\tmap[conf.id] = conf;\n\t\treturn map;\n\t}, {});\n\n\tonMount(() => {\n\t\tif (sourceConfigId) {\n\t\t\tsourceConfig = sourceConfigMap[sourceConfigId];\n\t\t} else {\n\t\t\tsourceConfig = sourceConfigList[0];\n\t\t\tsourceConfigId = sourceConfig.id;\n\t\t}\n\t});\n\t$: sourceConfig = sourceConfigMap[sourceConfigId];\n\t$: console.log(sourceConfig);\n</script>\n\n<select bind:value={sourceConfigId}>\n\t{#each sourceConfigList as config}\n\t\t<option value={config.id}>{config.name}</option>\n\t{/each}\n</select>\n","<script lang=\"ts\">\n\timport SearchInput from '../components/search/SearchInput.svelte';\n\timport SearchResultList from '../components/search/SearchResultList.svelte';\n\timport SourceConfigSelector from '../components/search/SourceConfigSelector.svelte';\n\timport type { IndexProps } from './types';\n\texport let indexProps: IndexProps;\n</script>\n\n<SearchInput\n\tbind:searchResults={indexProps.searchResults}\n\tsourceConfig={indexProps.sourceConfig}\n\tbind:searchParams={indexProps.searchParams}\n/>\n<SourceConfigSelector\n\tbind:sourceConfig={indexProps.sourceConfig}\n\tsourceConfigList={indexProps.sourceConfigs}\n\tsourceConfigId={indexProps.query.get('sourceConfigId')}\n/>\n<SearchResultList\n\tbind:searchResults={indexProps.searchResults}\n\tsourceConfig={indexProps.sourceConfig}\n\tbind:searchParams={indexProps.searchParams}\n/>\n","<script lang=\"ts\">\n\timport type { RestructuredNode } from '@lawbrador/shared/src/schemas/document_version';\n\timport NodeView from './NodeView.svelte';\n\texport let node: RestructuredNode;\n</script>\n\n<div>\n\t{#each node.children as child}\n\t\t<NodeView node={child} />\n\t{/each}\n</div>\n","<script lang=\"ts\">\n\timport type { RestructuredNode } from '@lawbrador/shared/src/schemas/document_version';\n\timport NodeView from './NodeView.svelte';\n\texport let node: RestructuredNode;\n</script>\n\n<p>\n\t{#each node.children as child}\n\t\t<NodeView node={child} />\n\t{/each}\n</p>\n","<script lang=\"ts\">\n\timport type { RestructuredNode } from '@lawbrador/shared/src/schemas/document_version';\n\timport DivView from './DivView.svelte';\n\timport PargraphView from './ParagraphView.svelte';\n\texport let node: RestructuredNode;\n</script>\n\n{#if node.name == 'div'}\n\t<DivView {node} />\n{:else if node.name == 'p'}\n\t<PargraphView {node} />\n{:else}\n\t{node.text}\n{/if}\n","import { configure } from '@storybook/svelte';\n    /* // preview entry\nimport '/home/lennart/lawbrador/node_modules/@storybook/core-client/dist/esm/globals/polyfills.js';\n// preview entry\nimport '/home/lennart/lawbrador/node_modules/@storybook/core-client/dist/esm/globals/globals.js'; */\n\n    import { addDecorator, addParameters, addLoader, addArgTypesEnhancer, addArgsEnhancer } from '@storybook/client-api';\n    import { logger } from '@storybook/client-logger';\n    import * as config_0 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js'\nimport * as config_1 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-docs/dist/esm/frameworks/svelte/config.js'\nimport * as config_2 from '/@fs//home/lennart/lawbrador/packages/fe/node_modules/@storybook/svelte/dist/esm/client/preview/config'\nimport * as config_3 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js'\nimport * as config_4 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js'\nimport * as config_5 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js'\nimport * as config_6 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js'\nimport * as config_7 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js'\nimport * as config_8 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js'\nimport * as config_9 from '/@fs//home/lennart/lawbrador/node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js'\nimport * as config_10 from '/@fs//home/lennart/lawbrador/packages/fe/.storybook/preview.js'\n    import * as story_0 from '/@fs//home/lennart/lawbrador/packages/fe/src/stories/Introduction.stories.mdx'\nimport * as story_1 from '/@fs//home/lennart/lawbrador/packages/fe/src/stories/EditableSourceConfig.stories.ts'\nimport * as story_2 from '/@fs//home/lennart/lawbrador/packages/fe/src/stories/Index.stories.ts'\nimport * as story_3 from '/@fs//home/lennart/lawbrador/packages/fe/src/stories/NodeView.stories.ts'\n      \n    const configs = [config_0,config_1,config_2,config_3,config_4,config_5,config_6,config_7,config_8,config_9,config_10]\n    configs.forEach(config => {\n      Object.keys(config).forEach((key) => {\n        const value = config[key];\n        switch (key) {\n          case 'args':\n          case 'argTypes': {\n            return logger.warn('Invalid args/argTypes in config, ignoring.', JSON.stringify(value));\n          }\n          case 'decorators': {\n            return value.forEach((decorator) => addDecorator(decorator, false));\n          }\n          case 'loaders': {\n            return value.forEach((loader) => addLoader(loader, false));\n          }\n          case 'parameters': {\n            return addParameters({ ...value }, false);\n          }\n          case 'argTypesEnhancers': {\n            return value.forEach((enhancer) => addArgTypesEnhancer(enhancer));\n          }\n          case 'argsEnhancers': {\n            return value.forEach((enhancer) => addArgsEnhancer(enhancer))\n          }\n          case 'globals':\n          case 'globalTypes': {\n            const v = {};\n            v[key] = value;\n            return addParameters(v, false);\n          }\n          case 'decorateStory':\n          case 'renderToDOM': {\n            return null; // This key is not handled directly in v6 mode.\n          }\n          default: {\n            // eslint-disable-next-line prefer-template\n            return console.log(key + ' was not supported :( !');\n          }\n        }\n      });\n    })\n    \n    /* TODO: not quite sure what to do with this, to fix HMR\n    if (import.meta.hot) {\n        import.meta.hot.accept();    \n    }\n    */\n    \n    configure(() => [story_0,story_1,story_2,story_3].filter(el => el.default), { hot: import.meta.hot }, false); // not sure if the import.meta.hot thing is correct"],"names":["Type","v4"],"mappings":"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"}